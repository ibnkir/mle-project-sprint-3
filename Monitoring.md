## Мониторинг

### Описание метрик

Для мониторинга были выбраны метрики трех типов.

__1. Бизнес-метрики__
- Квантили предсказаний модели:<br>
Анализ предсказаний позволяет выявлять отклонения в работе модели, например,
в результате изменения распределения во входных данных, из-за чего может возникнуть необходимость дообучения модели. При этом для мониторинга лучше использовать квантили, чтобы игнорировать выбросы.

__2. Метрики прикладного уровня__
- Количество запросов в секунду к основной странице сервиса (трафик):<br>
Позволяет оценивать интенсивность обращений к приложению,
выявлять паттерны в изменении трафика и соотвествующим образом масштабировать сервис. 

- Время обработки одного запроса к основной странице сервиса (задержка):<br>
Позволяет выявлять возможные сбои, а также сравнивать с задержками у других сервисов 
или у других эндпоинтов внутри того же сервиса.

- Количество ошибочных запросов из-за неправильных параметров:<br>
Такие запросы обрабатываются в самом приложении, вместо предсказаний оно отправит
описание ошибки, при этом код возврата все равно будет равен 200.
Поэтому такие запросы важно учитывать отдельно и не смешивать с успешными запросами,
когда, например, считаем среднее предсказание.

- Количество ошибочных запросов по причинам, не связанным с параметрами модели:<br>
Мониторинг таких запросов повзоляет выявлять и прогнозировать разлиные сбои на сетевом уровне.

__3. Метрики инфраструктурного уровня__<br>
Эти метрики нужны, чтобы следить за потреблением ресурсов, оптимизировать их распределение,
прогнозировать критические ситуации итд.
- Загрузка процессора,
- Использование оперативной памяти.


### Описание дашборда в Grafana

Дашборд состоит из 4-х панелей:
- Квантили предсказаний сервиса:<br>
Позволяет оценить работоспособность и адекватность модели;
- Количество запросов:<br>
Показывает поток различных типов обращений, включая ошибочные запросы;
- Задержка:<br>
Позволяет выявлять и прогнозировать перегруженность сервиса и возможные сбои, например, по резким всплескам во времени обслуживания.
- Использование процессора и памяти:<br>
Дает представление о текущей загрузке основных вычислительных ресурсов.