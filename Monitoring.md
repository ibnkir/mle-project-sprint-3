## Мониторинг

### Описание метрик

Для мониторинга были выбраны метрики трех типов.

__Бизнес-метрики__
- Квантили предсказаний модели:<br>
Анализ предсказаний позволяет выявлять отклонения в работе модели, например,
в результате изменения распределения во входных данных, из-за чего может возникнуть необходимость дообучения модели. При этом для мониторинга лучше использовать квантили, чтобы игнорировать выбросы.

__Метрики прикладного уровня__
- Количество запросов в секунду к основной странице сервиса:<br>
Позволяет оценивать интенсивность обращений к приложению,
выделять паттерны в поведении трафика и соотвествующим образом проводить масштабирование сервиса. 

- Время обработки одного запроса к основной странице сервиса:<br>
Позволяет оценить нагруженность сервиса в разные периоды времени,
а также сравнить с другими сервисами или эндпоинтами внутри того же сервиса.
- Количество ошибочных запросов из-за неправильных параметров:<br>
Такие запросы обрабатываются в самом приложении, в ответ мы получим 
детальное сообщение об ошибке, но код http при этом будет равен 200.
Поэтому важно учитывать их отдельно и не смешивать с успешными запросами,
когда считаем, например, среднюю задержку или среднее предсказание.
- Количество ошибочных запросов по причинам, не связанным с параметрами модели:<br>
Мониторинг таких запросов повзоляет выявлять и прогнозировать сбои, например, у серверов, сетевого оборудования итд.

__Метрики инфраструктурного уровня__
Эти метрики нужны, чтобы следить за потреблением ресурсов, оптимизировать их распределение,
прогнозировать критические ситуации итд.
- Загрузка процессора,
- Использование оперативной памяти


### Описание дашборда в Grafana

Дашборд состоит из 4-х панелей:
- Квантили предсказаний сервиса:<br>
Позволяет оценить работоспособность и адекватность модели;
- Количество запросов:<br>
Показывает поток различных типов обращений, включая ошибочные запросы;
- Задержка:<br>
Позволяет выявлять и прогнозировать возможные сбои, например, по резким всплескам во времени обслуживания.
- Использование процессора и памяти:<br>
Дает представление о загруженности основных ресурсов.